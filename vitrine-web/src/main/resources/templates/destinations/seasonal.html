<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" 
      th:replace="~{layout :: layout(title='Conseils Saisonniers', content=~{::content})}">
<body>
<div th:fragment="content">
    <div class="mb-4">
        <a th:href="@{/destinations/{id}(id=${destination.id})}" class="btn btn-outline-secondary">
            <i class="fas fa-arrow-left me-2"></i>Retour à la destination
        </a>
    </div>
    
    <div class="card">
        <div class="card-header bg-info text-white">
            <h3 class="mb-0">
                <i class="fas fa-calendar-alt me-2"></i>
                Conseils Saisonniers - <span th:text="${destination.name}">Destination</span>
            </h3>
        </div>
        <div class="card-body">
            <div class="row mb-4">
                <div class="col-md-12">
                    <h5><i class="fas fa-map-marker-alt me-2 text-primary"></i>
                        <span th:text="${destination.city + ', ' + destination.country}">Ville, Pays</span>
                    </h5>
                </div>
            </div>
            
            <!-- Season Selection -->
            <div class="mb-4">
                <h5>Choisir une saison :</h5>
                <div class="btn-group" role="group">
                    <a th:href="@{/destinations/{id}/seasonal(id=${destination.id}, season='winter')}" 
                       class="btn btn-outline-primary"
                       th:classappend="${season == 'winter' ? 'active' : ''}">
                        <i class="fas fa-snowflake me-1"></i>Hiver
                    </a>
                    <a th:href="@{/destinations/{id}/seasonal(id=${destination.id}, season='spring')}" 
                       class="btn btn-outline-success"
                       th:classappend="${season == 'spring' ? 'active' : ''}">
                        <i class="fas fa-seedling me-1"></i>Printemps
                    </a>
                    <a th:href="@{/destinations/{id}/seasonal(id=${destination.id}, season='summer')}" 
                       class="btn btn-outline-warning"
                       th:classappend="${season == 'summer' ? 'active' : ''}">
                        <i class="fas fa-sun me-1"></i>Été
                    </a>
                    <a th:href="@{/destinations/{id}/seasonal(id=${destination.id}, season='autumn')}" 
                       class="btn btn-outline-danger"
                       th:classappend="${season == 'autumn' ? 'active' : ''}">
                        <i class="fas fa-leaf me-1"></i>Automne
                    </a>
                </div>
            </div>
            
            <!-- Current Weather if available -->
            <div th:if="${advice.currentWeather != null}" class="alert alert-info">
                <h5><i class="fas fa-cloud-sun me-2"></i>Météo actuelle</h5>
                <p class="mb-0">
                    <strong>Température :</strong> <span th:text="${advice.currentWeather.temperature}">20</span>°C<br/>
                    <strong>Conditions :</strong> <span th:text="${advice.currentWeather.description}">Ensoleillé</span>
                </p>
            </div>
            
            <!-- Seasonal Advice -->
            <div class="card">
                <div class="card-header bg-light">
                    <h5 class="mb-0">
                        <i class="fas fa-lightbulb me-2 text-warning"></i>
                        Conseils pour <span th:text="${season}">la saison</span>
                    </h5>
                </div>
                <div class="card-body">
                    <div th:if="${advice.advice != null}" 
                         class="seasonal-advice"
                         th:utext="${#strings.replace(advice.advice, '&#10;', '<br/>')}">
                        Conseils saisonniers ici...
                    </div>
                    <div th:unless="${advice.advice != null}" class="text-muted">
                        Aucun conseil disponible pour cette saison.
                    </div>
                </div>
            </div>
            
            <div class="mt-4 text-center">
                <a th:href="@{/destinations/{id}(id=${destination.id})}" class="btn btn-primary">
                    <i class="fas fa-info-circle me-2"></i>Voir les détails de la destination
                </a>
                <a th:href="@{/destinations/{id}/recommend(id=${destination.id})}" class="btn btn-success">
                    <i class="fas fa-magic me-2"></i>Obtenir une recommandation IA
                </a>
            </div>
        </div>
    </div>
</div>
</body>
</html>
